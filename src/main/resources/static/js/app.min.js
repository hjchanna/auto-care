!function(){angular.module("appModule",["ngRoute","homeModule","ui.bootstrap","greenLeavesReceiveModule","clientAdvanceRequestModule","clientAdvanceApproveModule","greenLeavesWeighModule","greenLeavesPaymentModule","priceSettingModule","finalPaymentModule","monthlyGreenLeavesSummryModule","routeDetailsModule","supplierModule"]),angular.module("appModule").constant("systemConfig",{apiUrl:"http://localhost:8080"}),angular.module("appModule").config(["$routeProvider",function(e){e.when("/",{templateUrl:"app/system/home/home.html",controller:"homeController"}).when("/transactions/green-leaves/green-leaves-receive",{templateUrl:"app/transactions/green-leaves/green-leaves-receive/green-leaves-receive.html",controller:"greenLeavesReceiveController"}).when("/transactions/green-leaves/client-advance/client-advance-request",{templateUrl:"app/transactions/green-leaves/client-advance/client-advance-request.html",controller:"clientAdvanceRequestController"}).when("/transactions/green-leaves/client-advance/client-advance-approve",{templateUrl:"app/transactions/green-leaves/client-advance/client-advance-approve.html",controller:"clientAdvanceApproveController"}).when("/transactions/green-leaves/green-leaves-weigh/green-leaves-weigh",{templateUrl:"app/transactions/green-leaves/green-leaves-weigh/green-leaves-weigh.html",controller:"greenLeavesWeighController"}).when("/transactions/green-leaves/green-leaves-weigh/green-leaves-payment",{templateUrl:"app/transactions/green-leaves/green-leaves-payment/green-leaves-payment.html",controller:"greenLeavesPaymentController"}).when("/transactions/green-leaves/green-leaves-weigh/price-setting",{templateUrl:"app/transactions/green-leaves/price-setting/price-setting.html",controller:"priceSettingController"}).when("/transactions/green-leaves/green-leaves-weigh/final-payemnt",{templateUrl:"app/transactions/green-leaves/final-payemnt/final-payemnt.html",controller:"finalPaymentModuleController"}).when("/transactions/green-leaves/monthly-green-leaves-summry/monthly-green-leaves-summry",{templateUrl:"app/transactions/green-leaves/monthly-green-leaves-summry/monthly-green-leaves-summry.html",controller:"monthlyGreenLeavesSummryController"}).when("/transactions/green-leaves/route-details",{templateUrl:"app/transactions/green-leaves/route-details/route-details.html",controller:"routeDetailsController"}).when("/master/supplier/manage-supplier",{templateUrl:"app/master/supplier/supplier.html",controller:"routeDetailsController"}).otherwise({redirectTo:"/"})}]),angular.module("appModule").config(["ChartJsProvider",function(e){e.setOptions({responsive:!0,maintainAspectRatio:!1})}]),angular.module("appModule").controller("appController",["$scope","$timeout",function(e,t){e.hamburgerOpen=!1,e.toggleHamburger=function(){e.hamburgerOpen=!e.hamburgerOpen,e.hamburgerOpen?t(function(){angular.element(document.querySelector(".side-bar-left")).css("display","none")},600):angular.element(document.querySelector(".side-bar-left")).css("display","flex")}}])}(),function(){angular.module("supplierModule",[]),angular.module("supplierModule").controller("supplierController",["$scope",function(e){}])}(),function(){angular.module("homeModule",[]),angular.module("homeModule").controller("homeController",["$scope","$timeout","optionPane",function(e,t,n){var l=this;l.items=["item1","item2","item3"],l.animationsEnabled=!0,l.open=function(e,t){var n=t?angular.element($document[0].querySelector(".modal-demo "+t)):void 0;$uibModal.open({animation:!1,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",controllerAs:"$ctrl",size:e,appendTo:n,resolve:{items:function(){return l.items}}})},e.informationMessage=function(){n.open()},angular.element(document.querySelectorAll(".btn")).on("click",function(e){e.preventDefault(),console.log("AAA")})}])}(),function(){angular.module("appModule").directive("btn",["rippleService",function(e){return{restrict:"C",link:e.ripple}}]).directive("fab",["rippleService",function(e){return{restrict:"C",link:e.ripple}}]),angular.module("appModule").service("rippleService",["$timeout",function(e){this.ripple=function(t,n,l){n.bind("click",function(t){t.preventDefault();var n=angular.element("<div/>"),l=this.getBoundingClientRect(),o=t.pageX-l.left,a=t.pageY-l.top;n.addClass("ripple-effect"),n.css("height",this.offsetWidth+"px"),n.css("width",this.offsetWidth+"px"),n.css({top:a-this.offsetWidth/2+"px",left:o-this.offsetWidth/2+"px"}),angular.element(this).append(n),e(function(){n.remove()},1e3)})}}])}(),function(){angular.module("appModule").filter("fixedLength",function(){return function(e,t){return(1e4+""+e).slice(-t)}})}(),function(){angular.module("appModule").directive("input",["focusService",function(e){return{restrict:"E",link:e.focus}}]),angular.module("appModule").service("focusService",function(){this.focus=function(e,t,n){t.bind("keypress",function(e){var t=e.keyCode||e.which;if(13===t){e.preventDefault();for(var n=document.querySelectorAll("input, select, button"),l=e.srcElement,o=!1,a=n.length,r=0;r<a;r++){var i=n[r];if(o){if("none"!==i.style.display&&i.disabled===!1){i.focus();break}}else i===l&&(o=!0)}}})}})}(),function(){angular.module("appModule").directive("smartInput",function(){function e(e,t){if(null!==e)if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else e.setSelectionRange?(e.setSelectionRange(t,t),e.focus()):e.focus()}return{require:"?ngModel",restrict:"A",link:function(t,n,l,o){n.bind("focus",function(){try{this.selectionStart=0,this.selectionEnd=this.value.length+1}catch(e){this.select()}}),n.bind("blur",function(){a()}),o.$parsers.push(function(t){var a=n.val(),r=l.smartInput;if(void 0!==r&&""!==r||(r="text"),"decimal"===r||"integer"===r){for(;"0"===a.charAt(0);)a=a.substr(1);var i;"decimal"===r?(a=a.replace(/[^\d.\',']/g,""),i=parseInt(l.decimalPrecision),isNaN(i)&&(i=2)):"integer"===r&&(a=a.replace(/[^\d\',']/g,""),i=-1);var s=a.indexOf(".");s>=0&&(a=a.slice(0,s+1+i));var u=a.split("."),c=u[0],d=u[1];if(c=c.replace(/[^\d]/g,""),c.length>3)for(var m=Math.floor(c.length/3);m>0;){var p=c.indexOf(",");p<0&&(p=c.length),p-3>0&&(c=c.slice(0,p-3)+","+c.slice(p-3)),m--}d=void 0===d?"":"."+d;var g=c+d;g!==t&&(o.$setViewValue(g),o.$render());var v=parseFloat(g.replace(/[\',']/g,""));return isNaN(v)?0:v}if("date"===r){for(;"0"===a.charAt(0);)a=a.substr(1);a=a.replace(/[^\d\'#'\-]/g,""),console.log(a+"---");var f=a.split("-"),h=f[0],y=f[1],L=f[2];console.log(h+"+"+y+"+"+L);var w=-1;void 0===h?(h="#".repeat(4),w=0):(h=h.replace(/[^\d]/g,""),w=h.length,h=h.substr(0,4),h+="#".repeat(4-h.length)),void 0===y?(y="#".repeat(2),w=4===w?5:w):(y=y.replace(/[^\d]/g,""),parseInt(y)>12&&(y=""),w=4===w?5+y.length:w,y=y.substr(0,2),y+="#".repeat(2-y.length)),void 0===L?(L="#".repeat(2),w=7===w?8:w):(L=L.replace(/[^\d]/g,""),L>new Date(parseInt(h),parseInt(y),0).getDate()&&(L=""),w=7===w?8+L.length:w,L=L.substr(0,2),L+="#".repeat(2-L.length));var g=h+"-"+y+"-"+L;return g!==a&&(o.$setViewValue(g),o.$render(),e(n[0],w)),g.indexOf("#")>0?null:new Date(g)}});var a=function(){var e=n.val(),t=l.smartInput;if(void 0!==t&&""!==t||(t="text"),"decimal"===t){var o=parseInt(l.inputDecimal);isNaN(o)&&(o=2);var a=e.split("."),r=a[0],i=a[1];void 0!==r&&""!==r||(r="0"),void 0===i?i="0".repeat(o):i+="0".repeat(o-i.length),n.val(r+"."+i)}else"integer"===t?(void 0!==e&&""!==e||(e="0"),n.val(e)):"date"===t&&(void 0!==e&&""!==e||(e="####-##-##"),n.val(e))};n.ready(function(){a()})}}})}(),function(){angular.module("appModule").service("optionPane",["$uibModal",function(e){this.open=function(){e.open({animation:!1,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"optionPane.html",controller:"optionPaneController",controllerAs:"$ctrl",size:"sm"})}}]),angular.module("appModule").controller("optionPaneController",["$scope",function(e){}])}(),function(){angular.module("clientAdvanceApproveModule",["chart.js"]),angular.module("clientAdvanceApproveModule").controller("clientAdvanceApproveController",["$scope",function(e){e.colors=["#45b7cd","#ff6384","#ff8e72"],e.labels=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],e.data=[[65,-59,80,81,-56,55,-40],[28,48,-40,19,86,27,90]],e.datasetOverride=[{label:"Bar chart",borderWidth:1,type:"bar"},{label:"Line chart",borderWidth:3,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",type:"line"}],e.open=function(){e.showModal=!0},e.cancel=function(){e.showModal=!1}}])}(),function(){angular.module("clientAdvanceRequestModule",["chart.js","ngAnimate","ui.bootstrap","ui-notification"]),angular.module("clientAdvanceRequestModule").controller("clientAdvanceRequestController",["$scope","$http","systemConfig","Notification",function(e,t,n,l){}])}(),function(){angular.module("finalPaymentModule",[]),angular.module("finalPaymentModule").controller("finalPaymentModuleController",["$scope",function(e){e.showBfAndCoinValues=!0,e.showOther=function(){e.otherValues=!0,e.showGreenLeaveValues=!1,e.showBfAndCoinValues=!1},e.showGLValues=function(){e.showGreenLeaveValues=!0,e.otherValues=!1,e.showBfAndCoinValues=!1},e.showBfAndCoins=function(){e.showBfAndCoinValues=!0,e.otherValues=!1,e.showGreenLeaveValues=!1}}])}(),function(){angular.module("greenLeavesPaymentModule",[]),angular.module("greenLeavesPaymentModule").controller("greenLeavesPaymentController",["$scope",function(e){e.Items=[{Name:"Item 1"},{Name:"Item 2"},{Name:"Item 3"},{Name:"Item 4"},{Name:"Item 5"},{Name:"Item 6"},{Name:"Item 7"},{Name:"Item 8"},{Name:"Item 9"},{Name:"Item 10"},{Name:"Item 11"},{Name:"Item 12"},{Name:"Item 13"},{Name:"Item 14"},{Name:"Item 15"}],e.accNo="Select Acc No",e.setAccNo=function(t){e.accNo=t},e.checkAll=function(){e.selectedAll?e.selectedAll=!0:e.selectedAll=!1,angular.forEach(e.Items,function(t){t.Selected=e.selectedAll})},e.setCheckAll=function(t){e.selectedAll&&!t.Selected&&(e.selectedAll=!1);var n=0;angular.forEach(e.Items,function(e){e.Selected&&n++}),e.selectedAll=n===e.Items.length}}])}(),function(){angular.module("greenLeavesReceiveModule",["ngAnimate","ui.bootstrap","ui-notification"]),angular.module("greenLeavesReceiveModule").controller("greenLeavesReceiveController",["$scope","$http","systemConfig","Notification",function(e,t,n,l){e.ui={},e.ui.mode=null,e.ui.new=function(){e.ui.mode="NEW",console.log("NEW")},e.ui.finish=function(){e.ui.mode="IDEAL"};var o=n.apiUrl+"/api/green-leaves/green-leaves-receive/clients";t.get(o).success(function(t){e.clientList=[],e.clientList=t.values}),e.getClients=function(t){return e.clientList},e.getRowData=function(){return e.greenLevesRecives||(e.greenLevesRecives=[]),e.greenLevesRecives},e.insertTable=function(t){if(e.vars=!0,e.rowData.client.name&&e.rowData.normalLeavesQuantity&&e.rowData.superLeavesQuantity)if(0===e.greenLevesRecives.length)e.greenLevesRecives.push(t),e.rowData=null;else{for(var n=0;n<e.greenLevesRecives.length;n++)if(angular.equals(e.greenLevesRecives[n].client,t.client)){e.vars=!1,l.error("This Customer Is Already Exists");break}e.vars&&(e.greenLevesRecives.push(t),e.rowData=null)}else l.error("Must Be Filled All Components To Add");e.getNormalLeavesQuantityTotal(),e.getSuperLeavesQuantity()},e.editSelectdRow=function(t,n){t?(e.rowData=t,e.greenLevesRecives.splice(n,1)):l.error("Edit Not Success")},e.deleteSelectedRow=function(t){e.greenLevesRecives.splice(t,1),e.rowData=null,e.getNormalLeavesQuantityTotal(),e.getSuperLeavesQuantity(),l.success("Delete Success")},e.getNormalLeavesQuantityTotal=function(){for(var t=0,n=0;n<e.greenLevesRecives.length;n++)t+=parseInt(e.greenLevesRecives[n].normalLeavesQuantity);return t},e.getSuperLeavesQuantity=function(){for(var t=0,n=0;n<e.greenLevesRecives.length;n++)t+=parseInt(e.greenLevesRecives[n].superLeavesQuantity);return t},e.selectedRow=null,e.setClickedRow=function(t,n){e.selectedRow=t,console.log(n)},e.ui.init=function(){e.ui.mode="IDEAL";var l=n.apiUrl+"/api/green-leaves/green-leaves-receive/routes";e.routes=[],t.get(l).success(function(t){e.routes=t.values})},e.ui.init()}])}(),function(){angular.module("greenLeavesWeighModule",["ngAnimate","ngSanitize","ui.bootstrap"]),angular.module("greenLeavesWeighModule").factory("greenLeavesWeighFactory",["$http","systemConfig",function(e,t){var n={};return n.loadRoutes=function(n){var l=t.apiUrl+"/api/green-leaves/routes";e.get(l).success(function(e,t,l){n(e.values)}).error(function(e,t,n){})},n.loadWeigh=function(e,t){},n.insertNormal=function(){},n.insertSuper=function(){},n.deleteNormal=function(){},n.deleteSuper=function(){},n}]),angular.module("greenLeavesWeighModule").controller("greenLeavesWeighController",["$scope","$timeout","greenLeavesWeighFactory",function(e,t,n){e.model={},e.ui={},e.model.routes=null,e.model.weigh=null,e.model.tempWeigh=null,e.ui.mode=null,e.ui.type="NORMAL",e.model.reset=function(){e.model.weigh={indexNo:null,route:null,date:null,number:null,greenLeavesWeighDetails:[],normalTotalWeight:0,normalTareCalculated:0,normalTareDeduction:0,normalGeneralDeductionPercent:4,normalGeneralDeduction:0,normalWaterDeduction:0,normalCoarseLeaves:0,normalBoiledLeaves:0,normalNetWeight:0,normalCrates:0,normalBags:0,normalPolyBags:0,superTotalWeight:0,superTareCalculated:0,superTareDeduction:0,superGeneralDeductionPercent:4,superGeneralDeduction:0,superWaterDeduction:0,superCoarseLeaves:0,superBoiledLeaves:0,superNetWeight:0,superCrates:0,superBags:0,superPolyBags:0},e.model.resetTemp(),e.model.validate()},e.model.resetTemp=function(){e.model.tempWeigh={indexNo:null,quantity:0,crates:0,bags:0,polyBags:0,type:"NORMAL"}},e.model.validate=function(){var t=0,n=0,l=0,o=0,a=0,r=0,i=0,s=0;angular.forEach(e.model.weigh.greenLeavesWeighDetails,function(e,u){"NORMAL"===e.type?(t+=parseFloat(e.quantity),l+=parseInt(e.crates),o+=parseInt(e.bags),a+=parseInt(e.polyBags)):"SUPER"===e.type&&(n+=parseFloat(e.quantity),r+=parseInt(e.crates),i+=parseInt(e.bags),s+=parseInt(e.polyBags))});var u=parseFloat(e.model.weigh.normalGeneralDeductionPercent),c=parseInt(u*t/100);e.model.weigh.normalGeneralDeduction=c;var d=parseFloat(e.model.weigh.superGeneralDeductionPercent),m=parseInt(d*n/100);e.model.weigh.superGeneralDeduction=m;var p=t-parseFloat(e.model.weigh.normalTareDeduction)-parseFloat(e.model.weigh.normalGeneralDeduction)-parseFloat(e.model.weigh.normalWaterDeduction)-parseFloat(e.model.weigh.normalCoarseLeaves)-parseFloat(e.model.weigh.normalBoiledLeaves),g=n-parseFloat(e.model.weigh.superTareDeduction)-parseFloat(e.model.weigh.superGeneralDeduction)-parseFloat(e.model.weigh.superWaterDeduction)-parseFloat(e.model.weigh.superCoarseLeaves)-parseFloat(e.model.weigh.superBoiledLeaves);e.model.weigh.normalTotalWeight=t,e.model.weigh.normalNetWeight=p,e.model.weigh.superTotalWeight=n,e.model.weigh.superNetWeight=g,e.model.weigh.normalCrates=l,e.model.weigh.normalBags=o,e.model.weigh.normalPolyBags=a,e.model.weigh.superCrates=r,e.model.weigh.superBags=i,e.model.weigh.superPolyBags=s},e.ui.load=function(){e.ui.mode="SELECTED"},e.ui.new=function(){e.ui.mode="NEW",t(function(){document.querySelectorAll("#route")[0].focus()},10)},e.ui.edit=function(){e.ui.mode="EDIT",t(function(){document.querySelectorAll("#route")[0].focus()},10)},e.ui.insertNormal=function(){console.log("insert normal"),e.ui.validateWeighInput()&&(e.model.tempWeigh.indexNo=null,e.model.tempWeigh.type="NORMAL",e.model.weigh.greenLeavesWeighDetails.push(e.model.tempWeigh)),e.model.resetTemp(),e.model.validate(),t(function(){document.querySelectorAll("#normal-qty")[0].focus()},10)},e.ui.insertSuper=function(){e.ui.validateWeighInput()&&(e.model.tempWeigh.indexNo=null,e.model.tempWeigh.type="SUPER",e.model.weigh.greenLeavesWeighDetails.push(e.model.tempWeigh)),e.model.resetTemp(),e.model.validate(),t(function(){document.querySelectorAll("#super-qty")[0].focus()},10)},e.ui.deleteNormal=function(e){},e.ui.deleteSuper=function(){},e.ui.finish=function(){e.ui.mode="IDEAL",e.model.reset()},e.ui.toggleType=function(n){e.ui.type=n,"NORMAL"===n?t(function(){document.querySelectorAll("#normal-qty")[0].focus()},10):"SUPER"===n&&t(function(){document.querySelectorAll("#super-qty")[0].focus()},10)},e.ui.validateWeighInput=function(){var t=e.model.tempWeigh.quantity,n=e.model.tempWeigh.crates+e.model.tempWeigh.bags+e.model.tempWeigh.polyBags;return console.log(n+","+t+","+(n>0&&t>0)),n>0&&t>0},e.ui.init=function(){e.ui.mode="IDEAL",e.model.reset(),n.loadRoutes(function(t){e.model.routes=t})},e.ui.init()}])}(),function(){angular.module("monthlyGreenLeavesSummryModule",[]),angular.module("monthlyGreenLeavesSummryModule").controller("monthlyGreenLeavesSummryController",["$scope",function(e){e.open=function(){e.showModal=!0},e.cancel=function(){e.showModal=!1}}])}(),function(){angular.module("priceSettingModule",[]),angular.module("priceSettingModule").controller("priceSettingController",["$scope",function(e){e.leafList=[{}],e.leafLists=function(t){return e.leafList=[{indexNo:"00001",route:"batuwana route",normalQty:"200",superQty:"100"},{indexNo:"00002",route:"batuwana route",normalQty:"300",superQty:"400"},{indexNo:"00003",route:"batuwana route",normalQty:"340",superQty:"190"}],console.log(e.leafList.length),e.leafList},e.getTotalNormal=function(){for(var t=0,n=0;n<e.leafList.length;n++){var l=e.leafList[n];t+=parseFloat(l.normalQty)}return t},e.getTotalSuper=function(){for(var t=0,n=0;n<e.leafList.length;n++){var l=e.leafList[n];t+=parseFloat(l.superQty)}return t}}])}(),function(){angular.module("routeDetailsModule",[]),angular.module("routeDetailsModule").controller("routeDetailsController",["$scope",function(e){}])}();