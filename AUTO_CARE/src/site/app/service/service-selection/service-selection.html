<div class="tile-list background-dark">
    <div class="tile-list-title" style="margin-right: 5px;">
        <h4>VEHICLE</h4>
    </div>
    <div class="tile-list-content smart-scroll-y" style="height: calc(100vh - 40px);">
        <div class="tile tile-128" style="animation: 0.5s zoomInLeft" ng-repeat="details in model.pendingJobCards" ng-class="{'white-row':details.indexNo == selectedJobCardIndexNo}" ng-click="ui.selectedJobCardRow(details);">
            <span>
                <img src="/img/01.png"/>  
                <label>
                    {{model.vehicleData(details.vehicle).vehicleNo}}
                </label>
                <label ng-show="model.vehicleData(details.vehicle).type === 'NORMAL'" class="label label-primary">NORMAL</label>
                <label ng-show="model.vehicleData(details.vehicle).type === 'REGISTER'" class="label label-success">REGISTER</label>
            </span>
        </div>
    </div>
</div>
<div class="index-content-body">
    <div style="float: left; width: calc(100% - 133px);">
        <div class="col-xs-7 background-light">
            <div class="row full-height" style="display: flex; flex-flow: column;">
                <uib-tabset>
                    <uib-tab heading="PACKAGE" index="0">
                        <table class="square-table background-dark">
                            <col style="width: 50%;"/>
                            <col style="width: 30%;"/>
                            <col style="width: 20%;"/>
                            <thead>
                                <tr>
                                    <th>PACKAGE NAME</th>
                                    <th>PRICE</th>
                                    <th>&nbsp;</th>
                                </tr>
                            </thead>
                        </table>
                        <div class="smart-scroll-y" style="height: calc(100vh - 104px);" ng-show="selectedJobCardIndexNo">
                            <div ng-repeat="detils in model.filterItems|filter: { type: 'PACKAGE' }">
                                <table class="square-table">
                                    <col style="width: 50%;"/>
                                    <col style="width: 30%;"/>
                                    <col style="width: 20%;"/>
                                    <tbody>
                                        <tr class="background-light">
                                            <td ng-click="viewPackageDetails($index, detils.indexNo);" class="text-bold">{{detils.name}}</td>
                                            <td ng-click="viewPackageDetails($index, detils.indexNo);" ng-show="selectVehicleType === 'REGISTER'">{{detils.salePriceRegister|number:2}}</td>
                                            <td ng-click="viewPackageDetails($index, detils.indexNo);" ng-show="selectVehicleType === 'NORMAL'">{{detils.salePriceNormal|number:2}}</td>
                                            <td><a ng-class="selectVehicleType === 'REGISTER' ? 'btn-success' : 'btn-primary'" class="btn" ng-click="ui.addPackageAndServiceItem(detils, 'PACKAGE_ITEM');"/><span class="glyphicon glyphicon-plus"></span></a></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="animation-v-grow background-dark" ng-show="selectPackageItemPosition == $index">
                                    <table class="square-table">
                                        <col style="width: 30%;"/>
                                        <col style="width: 70%;"/>
                                        <thead>
                                            <tr>
                                                <th>#</th>
                                                <th>NAME</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="background-dark" ng-repeat="details in model.packageItemList">
                                                <td><label>{{model.itemData(details.item).indexNo | fixedLength:5}}</label></td>
                                                <td>{{model.itemData(details.item).name}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="placeholder col-lg-12 animation-fade" style="height: calc(100vh - 118px);" ng-hide="selectedJobCardIndexNo">
                            <h1>PLEASE SELECT VEHICLE</h1>
                        </div>
                    </uib-tab>
                    <uib-tab heading="SERVICE" index="1">
                        <div class="col-xs-8">
                            <input type="text" class="search-input" placeholder="search" ng-model="searchService">
                        </div>
                        <table class="square-table background-dark">
                            <col style="width: 50%;"/>
                            <col style="width: 30%;"/>
                            <col style="width: 20%;"/>
                            <col />
                            <thead>
                                <tr>
                                    <th>NAME</th>
                                    <th>PRICE</th>
                                    <th>&nbsp;</th>
                                </tr>
                            </thead>
                        </table>
                        <div class="smart-scroll-y" style="height: calc(100vh - 204px);" ng-show="selectedJobCardIndexNo">
                            <table class="square-table">
                                <col style="width: 50%;"/>
                                <col style="width: 30%;"/>
                                <col style="width: 20%;"/>
                                <tbody>
                                    <tr class="background-light" ng-repeat="detils in model.filterItems|filter: { type: 'SERVICE' }|filter:{ name : searchService}">
                                        <td class="text-bold">{{detils.name}}</td>
                                        <td ng-show="selectVehicleType === 'REGISTER'">{{detils.salePriceRegister|number:2}}</td>
                                        <td ng-show="selectVehicleType === 'NORMAL'">{{detils.salePriceNormal|number:2}}</td>
                                        <td><a ng-class="selectVehicleType === 'REGISTER' ? 'btn-success' : 'btn-primary'" class="btn" ng-click="ui.addPackageAndServiceItem(detils, 'SERVICE');"/><span class="glyphicon glyphicon-plus"></span></a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="placeholder col-lg-12 animation-fade" style="height: calc(100vh - 175px);" ng-hide="selectedJobCardIndexNo">
                            <h1>PLEASE SELECT VEHICLE</h1>
                        </div>
                    </uib-tab>
                    <uib-tab heading="ITEM" index="2">
                        <div class="col-xs-8">
                            <input type="text" class="search-input" placeholder="search" ng-model="searchItem">
                        </div>
                        <table class="square-table background-dark">
                            <col style="width: 30%;"/>
                            <col style="width: 40%;"/>
                            <col style="width: 20%;"/>
                            <col style="width: 10%;"/>
                            <thead>
                                <tr>
                                    <th>NAME</th>
                                    <th>&nbsp;</th>
                                    <th class="text-center">QTY</th>
                                    <th>&nbsp;</th>
                                </tr>
                            </thead>
                        </table>
                        <div class="smart-scroll-y" style="height: calc(100vh - 204px);" ng-show="selectedJobCardIndexNo">
                            <table class="square-table">
                                <col style="width: 30%;"/>
                                <col style="width: 40%;"/>
                                <col style="width: 20%;"/>
                                <col style="width: 10%;"/>
                                <tbody>
                                    <tr class="background-light" ng-repeat="detils in model.filterItems|filter: { type: 'STOCK' }|filter:{ name : searchItem}">
                                        <td class="text-bold">{{detils.name}}</td>
                                        <td ng-show="selectVehicleType === 'REGISTER' && !ui.getItemUnits($index, detils.indexNo).length">{{detils.salePriceRegister|number:2}}</td>
                                        <td ng-show="selectVehicleType === 'NORMAL' && !ui.getItemUnits($index, detils.indexNo).length">{{detils.salePriceNormal|number:2}}</td>
                                        <td ng-show="ui.getItemUnits($index, detils.indexNo).length"> 
                                            <select class="form-control form-group-lg" ng-model="selectIemUnit" style="margin-top: 8px;">
                                                <option  ng-show="selectVehicleType === 'NORMAL'" value="{{itemUnits.indexNo}}" ng-repeat=" itemUnits in ui.getItemUnits($index, detils.indexNo)">
                                                    {{itemUnits.name}}  -  {{ itemUnits.salePriceNormal|number:2}} 
                                                </option>
                                                <option  ng-show="selectVehicleType === 'REGISTER'" value="{{itemUnits.indexNo}}" ng-repeat=" itemUnits in ui.getItemUnits($index, detils.indexNo)">
                                                    {{itemUnits.name}}  -  {{ itemUnits.salePriceRegister|number:2}} 
                                                </option>
                                            </select>
                                        </td>
                                        <td>
                                            <div range-spinner
                                                 range-min="1" 
                                                 range-step="1"  
                                                 range-max="15" 
                                                 range-default-value="0"
                                                 range-decimal-precision="1"				
                                                 range-model="qty"
                                                 accept-decimal="false"
                                                 name-of-field="rangeFieldName"
                                                 id-of-field="rangeFieldId">
                                            </div>
                                        </td>
                                        <td ng-show="ui.getItemUnits($index, detils.indexNo).length"><a class="btn btn-success" ng-click="ui.addItemUnit(selectIemUnit, qty);"><span class="glyphicon glyphicon-plus"></span></a></td>
                                        <td ng-show="!ui.getItemUnits($index, detils.indexNo).length"><a class="btn btn-primary" ng-click="ui.addNormalItem(detils, qty);"><span class="glyphicon glyphicon-plus"></span></a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="placeholder col-lg-12 animation-fade background-light-dark" style="height: calc(100vh - 175px);" ng-hide="selectedJobCardIndexNo">
                            <h1>PLEASE SELECT VEHICLE</h1>
                        </div>
                    </uib-tab>
                </uib-tabset>
            </div>
        </div>

        <div class="col-xs-5 background-dark">
            <div class="row" style="display: flex; flex-flow: column; height: calc(100vh);">
                <div style="height: 50px;" ng-show="model.jobItemList.length">
                    <table class="square-table table-rounded">
                        <col style="width: 10%;"/>
                        <col style="width: 40%;"/>
                        <col style="width: 10%;"/>
                        <col style="width: 35%;"/>
                        <col style="width: 15%;"/>
                        <col/>
                        <thead>
                            <tr>
                                <th>&nbsp;</th>
                                <th>SELECTIONS</th>
                                <th class="text-right">QTY</th>
                                <th class="text-center">AMOUNT</th>
                                <th>&nbsp;</th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="smart-scroll-y" style="height: calc(100vh - 91px);padding-left: 5px;" ng-show="model.jobItemList.length">
                    <table class="square-table background-dark">
                        <col style="width: 10%;"/>
                        <col style="width: 40%;"/>
                        <col style="width: 10%;"/>
                        <col style="width: 35%;"/>
                        <col style="width: 15%;"/>
                        <tbody ng-repeat="selections in model.jobItemList">
                            <tr>
                                <td>
                                    <!-- item items-->
                                    <label class="label label-danger"  style="display: inline-block; width: 20px;" ng-show="model.itemData(selections.item).type === 'PACKAGE'">P</label>
                                    <label class="label label-primary" style="display: inline-block; width: 20px;"  ng-show="model.itemData(selections.item).type === 'SERVICE'">S</label>
                                    <label class="label label-success" style="display: inline-block; width: 20px;"  ng-show="model.itemData(selections.item).type === 'STOCK'">I</label>
                                    <!-- item units-->
                                    <label class="label label-warning" style="display: inline-block; width: 20px;" ng-show="selections.itemUnit !== null">S</label>
                                </td>
                                <td ng-show="selections.item != null"><small>{{model.itemData(selections.item).name}}</small></td>
                                <td ng-show="selections.itemUnit != null"><small>{{model.itemUnitData(selections.itemUnit).name}}</td>
                                <td class="text-right"><small>{{selections.quantity}}</small></td>
                                <td class="text-right"><small>{{selections.value|number:2}}</small></td>
                                <td><a class="btn btn-danger" ng-click="ui.deleteSelectDetails($index);"><span class="glyphicon glyphicon-remove"></span></a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="placeholder col-lg-12 animation-fade" style="height: calc(100vh - 64px);padding-bottom: 10px;" ng-hide="model.jobItemList.length">
                    <h1>ITEM NOT FOUND :( </h1>
                </div>
                <div class="background-dark">
                    <table class="square-table">
                        <col style="width: 50%;"/>
                        <col style="width: 35%;"/>
                        <col style="width: 15%;"/>
                        <tbody>
                            <tr class="text-bold">
                                <td>TOTAL</td>
                                <td class="text-right">{{model.getSelectItemTotal() | number:2}}</td>
                                <th>&nbsp;</th>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>