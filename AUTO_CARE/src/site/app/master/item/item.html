<div class="index-content-header">
</div>

<div class="index-content-body">
    <uib-tabset>
        <uib-tab heading="ITEMS" index="0" select="ui.toggleType('ITEMS');">
            <div class="col-xs-4 background-dark">
                <div style="display: flex; flex-flow: column; height: calc(100vh - 52px);">
                    <table class="table-rounded control-table">
                        <col style="width: 35%"/>
                        <col style="width: 65%"/>
                        <tbody>
                            <tr>
                                <td><label class="control-label">Type</label></td>
                                <td>
                                    <select id="type" class="form-control" ng-model="model.itemData.type">
                                        <option value="STOCK" selected>STOCK</option>
                                        <option value="NON-STOCK">NON-STOCK</option>
                                        <option value="SERVICE">SERVICE</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td><label class="control-label">Name</label></td>
                                <td><input class="form-control" ng-model="model.itemData.name" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>
                                <td><label class="control-label">BarCode</label></td>
                                <td><input class="form-control" ng-model="model.itemData.barcode" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>

                                <td><label class="control-label">Print Description</label></td>
                                <td><input class="form-control" ng-model="model.itemData.printDescription" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>
                                <td><label class="control-label">Unit</label></td>
                                <td><input class="form-control" ng-model="model.itemData.unit" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>
                                <td><label class="control-label">Sale Price(N)</label></td>
                                <td><input class="form-control text-right" ng-model="model.itemData.salePriceNormalCus" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>
                                <td><label class="control-label">Sale Price(S)</label></td>
                                <td><input class="form-control text-right" ng-model="model.itemData.salePriceRegisterCus" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>

                            <tr>
                                <td><label class="control-label">Department</label></td>
                                <td><input class="form-control" ng-model="model.itemData.department" uib-typeahead="itemDepartment.indexNo as (itemDepartment.indexNo + ' - ' + itemDepartment.name) for itemDepartment in model.itemDepartments |filter:$viewValue|limitTo:10" typeahead-input-formatter="model.itemDepartmentLable($model)" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>
                                <td><label class="control-label">Category</label></td>
                                <td><input class="form-control" ng-model="model.itemData.category" uib-typeahead="category.indexNo as (category.indexNo + ' - ' + category.name) for category in model.categorys |filter:$viewValue|limitTo:10" typeahead-input-formatter="model.categoryLable($model)" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>
                                <td><label class="control-label">Sub Category</label></td>
                                <td><input class="form-control" ng-model="model.itemData.sub_category" uib-typeahead="subCategory.indexNo as (subCategory.indexNo + ' - ' + subCategory.name) for subCategory in model.subCategorys |filter:$viewValue|limitTo:10" typeahead-input-formatter="model.subCategoryLable($model)" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>
                                <td><label class="control-label">Brand</label></td>
                                <td><input class="form-control" ng-model="model.itemData.brand" uib-typeahead="brand.indexNo as (brands.indexNo + ' - ' + brands.name) for brand in model.brands |filter:$viewValue|limitTo:10" typeahead-input-formatter="model.brandLable($model)" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-xs-8 background-light">
                <div class="row col-xs-12">
                    <div style="display: flex; flex-flow: column; height: calc(100vh - 52px);">
                        <div class="col-md-6">
                            <input id="search" type="text" placeholder="search" class="search-input" ng-model="searchItem" ng-disabled="ui.mode !== 'EDIT'">
                        </div>
                        <table class="table-rounded">
                            <col style="width: 15%">
                            <col style="width: 35%">
                            <col style="width: 15%">
                            <col style="width: 15%">
                            <col style="width: 20%">
                            <thead class="background-dark">
                                <tr>
                                    <th>
                                        <label>Index No</label>
                                    </th>
                                    <th>
                                        <label>Name</label>
                                    </th>
                                    <th>
                                        <label>Sale Price(N)</label>
                                    </th>
                                    <th>
                                        <label>Sale Price(S)</label>
                                    </th>
                                    <th>&nbsp;</th>
                                </tr>
                            </thead>
                        </table>
                        <div class="smart-scroll-y" style="height: calc(100vh - 100px);">
                            <table class="table-rounded">
                                <col style="width: 15%">
                                <col style="width: 35%">
                                <col style="width: 15%">
                                <col style="width: 15%">
                                <col style="width: 20%">
                                <tbody>
                                    <tr ng-repeat="items in model.itemViewList|filter:{'name' : searchItem}">
                                        <td><label class="label label-default">{{items.indexNo|fixedLength:5}}</label></td>
                                        <td>{{items.name}}</td>
                                        <td>{{items.salePriceNormalCus}}</td>
                                        <td>{{items.salePriceRegisterCus}}</td>
                                        <td class="text-right" ng-disabled="ui.mode !== 'EDIT'">
                                            <a class="btn btn-primary" ng-click="ui.editeItems(items, $index)"><span class="glyphicon glyphicon-edit"></span></a>
                                            <a class="btn btn-danger" ng-click="ui.deleteItems(items, $index)"><span class="glyphicon glyphicon-trash"></span></a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </uib-tab>
        <uib-tab heading="ITEMS UNITS" index="1" select="ui.toggleType('ITEMS_UNITS');">
            <div class="col-xs-4 background-dark">
                <div style="display: flex; flex-flow: column; height: calc(100vh - 52px);">
                    <table class="table-rounded control-table">
                        <col style="width: 35%"/>
                        <col style="width: 65%"/>
                        <tbody>
                            <tr>
                                <td><label class="control-label">Item</label></td>
                                <td><input class="form-control" ng-model="model.itemUnitData.item" uib-typeahead="items.indexNo as (items.indexNo + ' - ' + items.name) for items in model.items |filter:$viewValue|limitTo:10" typeahead-input-formatter="model.itemLable($model)" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>
                                <td><label class="control-label">Name</label></td>
                                <td><input class="form-control" ng-model="model.itemUnitData.name" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>
                                <td><label class="control-label">Qty</label></td>
                                <td><input class="form-control" ng-model="model.itemUnitData.qty" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>

                                <td><label class="control-label">Sale Price(N)</label></td>
                                <td><input class="form-control" ng-model="model.itemUnitData.salePriceNormalCus" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>
                                <td><label class="control-label">Sale Price(S)</label></td>
                                <td><input class="form-control" ng-model="model.itemUnitData.salePriceRegisterCus" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                            <tr>
                                <td><label class="control-label">Cost Price(N)</label></td>
                                <td><input class="form-control text-right" ng-model="model.itemUnitData.costPrice" ng-disabled="ui.mode !== 'EDIT'"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-xs-8 background-light">
                <div class="row col-xs-12">
                    <div style="display: flex; flex-flow: column; height: calc(100vh - 52px);">
                        <div class="col-md-6">
                            <input id="search" type="text" placeholder="search" class="search-input" ng-model="searchItemUnit" ng-disabled="ui.mode !== 'EDIT'">
                        </div>
                        <table class="table-rounded">
                            <col style="width: 15%">
                            <col style="width: 35%">
                            <col style="width: 15%">
                            <col style="width: 15%">
                            <col style="width: 20%">
                            <thead class="background-dark">
                                <tr>
                                    <th>
                                        <label>Index No</label>
                                    </th>
                                    <th>
                                        <label>Name</label>
                                    </th>
                                    <th>
                                        <label>Sale Price(N)</label>
                                    </th>
                                    <th>
                                        <label>Sale Price(S)</label>
                                    </th>
                                    <th>&nbsp;</th>
                                </tr>
                            </thead>
                        </table>
                        <div class="smart-scroll-y" style="height: calc(100vh - 100px);">
                            <table class="table-rounded">
                                <col style="width: 15%">
                                <col style="width: 35%">
                                <col style="width: 15%">
                                <col style="width: 15%">
                                <col style="width: 20%">
                                <tbody>
                                    <tr ng-repeat="itemUnits in model.itemunitsViewList|filter:{'name' : searchItemUnit}">
                                        <td><label class="label label-default">{{itemUnits.indexNo|fixedLength:5}}</label></td>
                                        <td>{{itemUnits.name}}</td>
                                        <td>{{itemUnits.salePriceNormalCus}}</td>
                                        <td>{{itemUnits.salePriceRegisterCus}}</td>
                                        <td class="text-right" ng-disabled="ui.mode !== 'EDIT'">
                                            <a class="btn btn-primary" ng-click="ui.editeItemUnits(itemUnits, $index)"><span class="glyphicon glyphicon-edit"></span></a>
                                            <a class="btn btn-danger" ng-click="ui.deleteItemUnits(itemUnits, $index)"><span class="glyphicon glyphicon-trash"></span></a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </uib-tab>
        <uib-tab heading="PACKAGE ITEMS" index="2" select="ui.toggleType('PACKAGE_ITEMS');">

        </uib-tab>
    </uib-tabset>
    <div class="fab-container">
        <a class="fab fab-lg fab-success" fab-show="ui.mode ==='EDIT' && ui.saveMode === 'ITEMS'" ng-click="ui.saveItems()"><i class="glyphicon glyphicon-floppy-save"></i></a>
        <a class="fab fab-lg fab-success" fab-show="ui.mode ==='EDIT' && ui.saveMode === 'ITEMS_UNITS'" ng-click="ui.saveItemUnits()"><i class="glyphicon glyphicon-floppy-save"></i></a>
        <a class="fab fab-lg fab-success" fab-show="ui.mode ==='EDIT' && ui.saveMode === 'PACKAGE_ITEMS'" ng-click="ui.savePackageItems()"><i class="glyphicon glyphicon-floppy-save"></i></a>

        <a class="fab fab-lg fab-primary" fab-show="ui.mode ==='IDEAL' && ui.saveMode === 'ITEMS'" ng-click="ui.new()"><i class="glyphicon glyphicon-plus"></i></a>
    </div>
</div>
